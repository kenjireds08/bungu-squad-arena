/* Character Icon Styles */
@import './styles/character-icon.css';

@tailwind base;
@tailwind components;
@tailwind utilities;

/* BUNGU SQUAD Design System - Fantasy RPG Theme */

@layer base {
  :root {
    /* BUNGU SQUAD Color Palette - Warm Fantasy Theme */
    --background: 40 20% 96%;           /* Parchment beige #F5F1E8 */
    --foreground: 30 35% 15%;           /* Dark brown #3C2415 */

    --card: 42 25% 94%;                 /* Slightly darker parchment */
    --card-foreground: 30 35% 15%;      /* Dark brown text */

    --popover: 40 20% 96%;              /* Same as background */
    --popover-foreground: 30 35% 15%;   /* Dark brown text */

    /* Primary - Golden theme for important elements */
    --primary: 43 75% 49%;              /* Gold #DAA520 */
    --primary-foreground: 40 20% 96%;   /* Parchment on gold */

    /* Secondary - Bronze accents */
    --secondary: 30 45% 55%;            /* Bronze #CD853F */
    --secondary-foreground: 40 20% 96%; /* Light text on bronze */

    /* Muted - Subtle backgrounds */
    --muted: 40 15% 88%;                /* Muted parchment */
    --muted-foreground: 30 15% 55%;     /* Lighter muted brown text for better placeholder visibility */

    /* Accent - Highlight elements */
    --accent: 43 75% 49%;               /* Gold accent */
    --accent-foreground: 40 20% 96%;    /* Light text on accent */

    /* Status colors */
    --destructive: 0 75% 55%;           /* Red #B22222 */
    --destructive-foreground: 40 20% 96%;

    --success: 120 60% 35%;             /* Green #228B22 */
    --success-foreground: 40 20% 96%;

    --info: 225 75% 55%;                /* Blue #4169E1 */
    --info-foreground: 40 20% 96%;

    /* Borders and inputs */
    --border: 40 25% 80%;               /* Subtle brown border */
    --input: 40 25% 90%;                /* Input background */
    --ring: 43 75% 49%;                 /* Gold focus ring */

    /* Special BUNGU SQUAD elements */
    --fantasy-frame: 30 45% 55%;        /* Bronze frame color */
    --parchment-shadow: 30 20% 75%;     /* Soft shadow */
    --gold-glow: 43 90% 65%;            /* Bright gold for glow effects */

    /* Gradients */
    --gradient-gold: linear-gradient(135deg, hsl(43 75% 49%), hsl(43 90% 65%));
    --gradient-parchment: linear-gradient(180deg, hsl(40 20% 96%), hsl(40 15% 88%));
    --gradient-bronze: linear-gradient(135deg, hsl(30 45% 55%), hsl(30 55% 65%));

    /* Shadows and effects */
    --shadow-golden: 0 4px 20px hsl(43 75% 49% / 0.3);
    --shadow-soft: 0 2px 10px hsl(30 20% 75% / 0.4);
    --shadow-inset: inset 0 2px 4px hsl(30 20% 75% / 0.3);

    /* Animations */
    --transition-smooth: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);

    --radius: 0.75rem;
  }

  /* Dark mode with BUNGU SQUAD theme */
  .dark {
    --background: 25 25% 12%;           /* Dark brown background */
    --foreground: 40 20% 90%;           /* Light parchment text */

    --card: 25 25% 15%;                 /* Darker card background */
    --card-foreground: 40 20% 90%;      /* Light text on cards */

    --popover: 25 25% 12%;              /* Same as background */
    --popover-foreground: 40 20% 90%;   /* Light text */

    --primary: 43 75% 49%;              /* Keep gold primary */
    --primary-foreground: 25 25% 12%;   /* Dark text on gold */

    --secondary: 30 45% 45%;            /* Darker bronze */
    --secondary-foreground: 40 20% 90%; /* Light text on bronze */

    --muted: 25 15% 20%;                /* Dark muted background */
    --muted-foreground: 40 15% 70%;     /* Muted light text */

    --accent: 43 75% 49%;               /* Gold accent */
    --accent-foreground: 25 25% 12%;    /* Dark text on accent */

    --destructive: 0 75% 55%;           /* Keep red */
    --destructive-foreground: 40 20% 90%;

    --success: 120 60% 45%;             /* Brighter green for dark mode */
    --success-foreground: 40 20% 90%;

    --info: 225 75% 65%;                /* Brighter blue for dark mode */
    --info-foreground: 40 20% 90%;

    --border: 30 15% 25%;               /* Dark border */
    --input: 25 15% 18%;                /* Dark input background */
    --ring: 43 75% 49%;                 /* Gold focus ring */

    /* Special dark mode BUNGU SQUAD elements */
    --fantasy-frame: 30 35% 35%;        /* Darker bronze frame */
    --parchment-shadow: 25 15% 8%;      /* Very dark shadow */
    --gold-glow: 43 90% 65%;            /* Bright gold glow */
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
  }
}

@layer utilities {
  .bg-gradient-parchment {
    background: var(--gradient-parchment);
  }
  
  .bg-gradient-gold {
    background: var(--gradient-gold);
  }
  
  .bg-gradient-bronze {
    background: var(--gradient-bronze);
  }
}

/* Custom animations for refresh button */
@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

/* PWA specific styles for video rendering fix */
.pwa .pwa-video-shell {
  overflow: visible !important;        /* クリップしない */
  border-radius: 0 !important;         /* 角丸しない */
  -webkit-transform: translateZ(0);
  transform: translateZ(0);
  -webkit-backface-visibility: hidden;
  backface-visibility: hidden;
  contain: layout paint style;
}

.pwa .pwa-video {
  display: block !important;
  visibility: visible !important;
  opacity: 1 !important;
  object-fit: cover;
  width: 100%;
  height: 100%;
  -webkit-transform: translateZ(0);
  transform: translateZ(0);
}

/* 角丸は video の上に"マスク用オーバーレイ"で表現 */
.pwa .pwa-round-mask {
  pointer-events: none;
  border-radius: 0.75rem;        /* Tailwindのrounded-xl相当 */
  box-shadow: 0 0 0 1px rgba(0,0,0,.06) inset;
  position: absolute;
  inset: 0;
}