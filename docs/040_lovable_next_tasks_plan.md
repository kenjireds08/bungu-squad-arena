# Lovableへの次回依頼タスクプラン

## 📅 作成日時
2025-07-29 20:00頃

## 🎯 背景
QRカメラ機能の修正が完了し、エントリーまでの基本フローが完成。
次は大会管理とUI表示の自動化をLovableに依頼する方針。

## 📋 Lovableへの依頼予定タスク

### 1. 大会ステータス自動管理
- [ ] **開催中 → 過去の大会への自動移行**
  - 大会終了時刻になったら自動的に「過去の大会」に移動
  - もしくは大会日の翌日になったら自動的に「過去の大会」に移動
  - 開催中セクションをクリア

### 2. トップページの大会表示改善
- [ ] **日付による表示切り替え**
  - 大会当日: "本日の大会予定" に表示変更
  - 大会前: "次回の大会予定" のまま表示
  
- [ ] **複数大会対応**
  - 次回大会が複数ある場合の表示
  - 「さらに次回の大会予定」などの追加表示

### 3. 組み合わせ機能の実装
- [ ] **組み合わせ生成機能**
  - 参加者リストから自動組み合わせ生成
  - 管理者による組み合わせ確定機能
  - 参加者が確定したら組み合わせをする。ランダム、総当たり、手動管理の3つ。手動はドラッグアンドドロップで簡単に移動できる。
  - 組み合わせ時にトランプルールかカードプラスルールかを選択ができる。
  - 一度でもトランプルールかカードプラスルールをプレイしたプレイヤーには、トランプルールには、トランプのバッチがカードプラスルールにはプラスのバッチがつくようになる。それを見て管理者が、このプレイヤーはどのゲームを経験したことがあるのかが把握できる。
  - 組み合わせが確定したら、エントリー済みの各プレイヤーの組み合わせが決まりましたと通知がプッシュ通知が行くようになるのが理想です。

### 4. 新規大会作成機能の改善
- [ ] **大会作成フローの最適化**
  - より直感的な大会作成UI
  - 日時設定の改善

## ⚠️ 重要な制約事項

### バックエンド保護
**絶対に触らせない項目:**
- Google Sheets API連携部分
- `/api/players` エンドポイント
- `/api/tournaments` エンドポイント
- Google Cloud Service Account設定
- Vercel環境変数

### Lovableに伝える前提条件
1. **バックエンドは一切変更しない**
2. **フロントエンドのUI/UX改善のみ**
3. **既存のAPI呼び出し部分は保持**
4. **Google Sheetsとの連携は現状維持**

## 📝 依頼時の伝達事項

### 現在の状況説明
- QRスキャン機能は完全動作
- Google Sheets連携済み
- 基本的な大会フローは完成

### 具体的な要望
- 大会の状態管理をより自動化したい
- ユーザー体験の向上（日付による表示切り替え）
- 管理者の作業効率化（組み合わせ生成）

## 🔄 期待される効果

### ユーザー体験向上
- 大会当日に「本日の大会」と明確に表示
- 次回大会の予定が分かりやすく表示
- 自動的な状態遷移でスムーズな運用

### 管理者負荷軽減
- 手動での大会状態変更が不要
- 組み合わせ生成の自動化
- より直感的な管理画面

## 📊 優先順位
1. **高**: 大会ステータス自動管理（運用に直結）
2. **高**: トップページ表示改善（ユーザー体験）
3. **中**: 組み合わせ機能実装
4. **中**: 大会作成フロー改善

## 💡 追加検討事項
- プッシュ通知機能（組み合わせ発表時）
- リアルタイム更新機能の改善
- レスポンシブデザインの最適化

---

**次回Lovableとの作業時にこのプランを基に依頼を行う**